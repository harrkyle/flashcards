<html>
  <head>
    <style>
      #card {
        text-align: center;
        font-size: min(40vh, calc(100vw - 4vh));
        height: 96vh;
        box-sizing: border-box;
        width: min(55vh, calc(100vw - 4vh));
        border: 1px solid black;
        border-radius: 3vh;
        margin: 2vh auto;
        -webkit-user-select: none;
        user-select: none;
      }
      body {
        padding: 0;
        margin: 0;
      }
    </style>
 </head>
  <body>
    
  </body>
  <script>
    var decks = [
      {
        title: "Alphabet",
        label: "ABC",
        modes: ['random', 'sequential'],
        length: 26,
        get: (idx) => {
          let letterCode = idx + 'A'.charCodeAt(0);
          return String.fromCharCode(letterCode) + '<br />' + String.fromCharCode(letterCode + 32); 
        }
      },
      {
        title: "Numbers",
        label: "123",
        modes: ['random', 'sequential'],
        length: 10,
        get: (idx) => '' + idx
      }
    ];
    
    var modes = {
      random: {
        label: "Random",
        start: function* (cardSet) {
          while (true) {
            let indexes = Array.from({length: cardSet.length}, (e, i)=> i);
            while (indexes.length > 0) {
              yield cardSet.get(indexes.splice(Math.floor(Math.random() * indexes.length), 1)[0]);
            }
          }
        }
      },
      sequential: {
        label: "Sequential",
        start: function* (cardSet) {
          while (true) {
            let index = 0;
            while (true) {
              index = index + 1 % cardSet.length;
              yield index;
            }
          }
        }
      }
    };
    
    var body = document.getElementsByTagName('body')[0];
    
    var bodyHtml = '';
    
    for (var i in decks) {
      bodyHtml += "<div class='deck' click='select(" + i + ")'>" + decks[i].label + "</div>"
    }
    body.innerHTML = bodyHtml;
    
    function select(deck) {
      bodyHtml = '';
      for (var mode in modes) {
        bodyHtml += "<input type='radio' click='start(" + deck + "," + mode + ")'>" + modes[mode].label + "</input>"
      }
      body.innerHTML = bodyHtml;
    }
    
    function start(deck, mode) {
      var game = modes[mode].start(decks[deck]);
      body.innerHTML = '<div id=card></div>';
      document.getElementById("card").innerHTML = game.next().value;
      document.getElementById("card").addEventListener("click", () => document.getElementById("card").innerHTML = game.next().value);
    }
  </script>
</html>
